var xbayCommon=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=n(2);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var c=n(3);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})});var a=n(4);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.parseDate=function(e){var t=/^(\d{4})\-(\d{2})\-(\d{2})T(\d{2}):(\d{2}):(\d{2})(\+|\-)(\d{4})$/;return t.test(e)?new Date([e.slice(0,22),":",e.slice(22)].join("")):new Date(e)};t.formatDate=function(e){var t=n(e),r={y:t.getFullYear(),m:t.getMonth()+1,d:t.getDate()};return Object.keys(r).forEach(function(e){r[e]<10&&(r[e]="0"+r[e])}),[r.y,r.m,r.d].join("-")}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=arguments,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=t.assertString=function(e){if("string"!=typeof e)throw new TypeError("This library (validator.js) validates strings only")},c=t.toString=function(e){return"object"===("undefined"==typeof e?"undefined":r(e))&&null!==e?e="function"==typeof e.toString?e.toString():"[object Object]":(null===e||"undefined"==typeof e||isNaN(e)&&!e.length)&&(e=""),String(e)};t.merge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return Object.keys(t).forEach(function(n){"undefined"==typeof e[n]&&(e[n]=t[n])}),e},t.isStandardBrowserEnv=function(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement},t.isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},t.isWechatUA=function(e){return/micromessenger/i.test(e)},t.isMobileUA=function(e){return/Mobile|iP(hone|od|ad)|Android|BlackBerry/i.test(e)},t.isShanbayAppUA=function(e){return/com\.shanbay/.test(e.toLowerCase())},t.isMobilePhone=function(e){var t=c(e),n={"zh-CN":/^(\+?0?86\-?)?1[345789]\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/};return n["zh-CN"].test(t)||n["zh-TW"].test(t)},t.isEmail=function(e){o(e);var t=/^(([^<>()\[\]\\.,;:\s@']+(\.[^<>()\[\]\\.,;:\s@']+)*)|('.+'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},t.isUrl=function(e){o(e);var t=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return t.test(e)},t.escapeStr=function(e){return o(e),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")},t.unescapeStr=function(e){return o(e),e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#96;/g,"`")},t.isStrLength=function(e,t){o(e);var c=void 0,a=void 0;"object"===("undefined"==typeof t?"undefined":r(t))?(c=t.min||0,a=t.max):(c=n[1],a=n[2]);var i=e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],u=e.length-i.length;return u>=c&&("undefined"==typeof a||u<=a)},t.isJSON=function(e){o(e);try{var t=JSON.parse(e);return!!t&&"object"===("undefined"==typeof t?"undefined":r(t))}catch(e){}return!1},t.isNumeric=function(e){var t=/^[-+]?[0-9]+$/;return o(e),t.test(e)},t.isEmptyStr=function(e){return o(e),0===e.length}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(t.getFormData=function(e){var t={},n=e.querySelectorAll("input, textarea"),r=Array.prototype.slice.call(n);return r.forEach(function(e){var n=e.getAttribute("name"),r=e.getAttribute("type"),o=e.value;return!n||"radio"===r&&!e.checked?null:("radio"===r&&(o="true"===o||o,o="false"!==o&&o),"checkbox"===r&&(o=e.checked),"number"===r&&(o=~~o),t[n]=o,null)}),t},t.clearFormData=function(e){var t=e.querySelectorAll("input, textarea"),n=Array.prototype.slice.call(t);n.forEach(function(e){e.value=null})},t.selectElement=function(e){if(document.selection){var t=document.body.createTextRange();t.moveToElementText(e),t.select()}else if(window.getSelection){var n=document.createRange();n.selectNode(e),window.getSelection().removeAllRanges(),window.getSelection().addRange(n)}});t.copyToClipboard=function(e){var t=document.createElement("div");t.textContent=e,document.body.appendChild(t),n(t),document.execCommand("copy"),t.remove()},t.lazyloadImage=function(){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame,t=document.querySelectorAll("img"),n=function(e){if(!e.getAttribute("loaded")){var t=e.getAttribute("data-src");e.setAttribute("src",t),e.setAttribute("loaded",!0)}},r=function(){var r=Array.prototype.slice.call(t);r.forEach(function(t){e(function(){var e=t.getBoundingClientRect().top,r=window.innerHeight;e<r&&n(t)})})};window.addEventListener("scroll",r,!1),window.addEventListener("load",r,!1)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=(t.getSearchValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,n=e.replace(/[\[\]]/g,"\\$&"),r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),o=r.exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g,"")):"":null},t.getCookie=function(e,t){var n="; "+t+"=(\\w+)",r=new RegExp(n,"g"),o=r.exec("; "+e);return o&&o[1]});t.ajax=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments[2],c=$.extend({},{LOGIN_URL:"/accounts/login"},o),a={contentType:"application/json",crossDomain:!0,xhrFields:{withCredentials:!0},headers:{"X-CSRFToken":r(document.cookie,"csrftoken")}},i={success:function(t){401===t.status_code||403===t.status_code?window.location.href=c.LOGIN_URL+"/?next="+location.pathname+location.search:0===t.status_code?e.success&&e.success(t.data):e.error&&e.error(t.status_code,t.msg||"请求失败，请稍后重试")},error:function(t,n){e.error&&e.error(t.status,n)}};e.data&&"object"===n(e.data)&&(e.data=JSON.stringify(e.data)),t?$.ajax($.extend({},a,e)):$.ajax($.extend({},a,e,i))}}]);